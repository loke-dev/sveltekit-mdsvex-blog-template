var v="@vercel/analytics",w="1.5.0",m=()=>{window.va||(window.va=function(...i){(window.vaq=window.vaq||[]).push(i)})};function s(){return typeof window<"u"}function l(){try{const e="production"}catch{}return"production"}function b(e="auto"){if(e==="auto"){window.vam=l();return}window.vam=e}function f(){return(s()?window.vam:l())||"production"}function u(){return f()==="production"}function c(){return f()==="development"}function y(e,{[e]:i,...n}){return n}function g(e,i){if(!e)return;let n=e;const t=[];for(const[o,r]of Object.entries(e))typeof r=="object"&&r!==null&&(i.strip?n=y(o,n):t.push(o));if(t.length>0&&!i.strip)throw Error(`The following properties are not valid: ${t.join(", ")}. Only strings, numbers, booleans, and null are allowed.`);return n}function h(e,i){if(!e||!i)return e;let n=e;try{const t=Object.entries(i);for(const[o,r]of t)if(!Array.isArray(r)){const a=d(r);a.test(n)&&(n=n.replace(a,`/[${o}]`))}for(const[o,r]of t)if(Array.isArray(r)){const a=d(r.join("/"));a.test(n)&&(n=n.replace(a,`/[...${o}]`))}return n}catch{return e}}function d(e){return new RegExp(`/${k(e)}(?=[/?#]|$)`)}function k(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function $(e){return e.scriptSrc?e.scriptSrc:c()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function j(e={debug:!0}){var i;if(!s())return;b(e.mode),m(),e.beforeSend&&((i=window.va)==null||i.call(window,"beforeSend",e.beforeSend));const n=$(e);if(document.head.querySelector(`script[src*="${n}"]`))return;const t=document.createElement("script");t.src=n,t.defer=!0,t.dataset.sdkn=v+(e.framework?`/${e.framework}`:""),t.dataset.sdkv=w,e.disableAutoTrack&&(t.dataset.disableAutoTrack="1"),e.endpoint?t.dataset.endpoint=e.endpoint:e.basePath&&(t.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(t.dataset.dsn=e.dsn),t.onerror=()=>{const o=c()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${n}. ${o}`)},c()&&e.debug===!1&&(t.dataset.debug="false"),document.head.appendChild(t)}function p(e,i,n){var t,o;if(!s()){const r="[Vercel Web Analytics] Please import `track` from `@vercel/analytics/server` when using this function in a server environment";if(u())console.warn(r);else throw new Error(r);return}if(!i){(t=window.va)==null||t.call(window,"event",{name:e,options:n});return}try{const r=g(i,{strip:u()});(o=window.va)==null||o.call(window,"event",{name:e,data:r,options:n})}catch(r){r instanceof Error&&c()&&console.error(r)}}var A={inject:j,track:p,computeRoute:h};export{A as g,j as i};
